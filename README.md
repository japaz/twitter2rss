# Twitter List RSS ConverterConvert your Twitter/X lists (including **private lists**) into RSS feeds with automatic updates, official rate limiting, and adaptive scheduling.## ✨ Features- 🔐 **Private List Support**: Access private Twitter lists using OAuth 1.0a- 🚦 **Official Rate Limiting**: Implements Twitter's documented rate limit handling- 🔄 **Adaptive Scheduling**: Automatically adjusts fetch frequency based on activity- 📱 **Full Tweet Support**: Includes text, media, links, hashtags, and engagement metrics- 🗄️ **SQLite Storage**: Persistent storage with optimized indexes for performance- 🌐 **REST API**: Status monitoring, manual refresh, and cleanup endpoints- ⚡ **Free Tier Optimized**: Designed to work within Twitter's Essential tier limits- 🚀 **Cloud Ready**: Optimized for Render, Vercel, and other platforms- 📊 **Performance Monitoring**: Built-in metrics and monitoring tools- 🧹 **Automatic Cleanup**: Data retention policies to prevent database bloat- ⚡ **Smart Caching**: Intelligent RSS feed caching with TTL## 🚀 Quick Start### Prerequisites- Twitter Developer Account- Node.js 18+ installed- Your Twitter list ID### 🔐 Authentication MethodsThis app supports both public and private Twitter lists:#### For Public Lists (Bearer Token)- ✅ Simpler setup- ❌ Cannot access private lists- ❌ Limited to public content only#### For Private Lists (OAuth 1.0a) - Recommended- ✅ Access private lists- ✅ Full user context- ✅ Better rate limits in some cases### 1. Get Twitter API Credentials#### For Private Lists (Recommended)1. Go to [Twitter Developer Portal](https://developer.twitter.com/)2. Create/select your app3. In "Keys and Tokens" section, get:   - **API Key** → `TWITTER_API_KEY`   - **API Key Secret** → `TWITTER_API_SECRET`   - **Access Token** → `TWITTER_ACCESS_TOKEN`   - **Access Token Secret** → `TWITTER_ACCESS_SECRET`#### For Public Lists Only1. Go to [Twitter Developer Portal](https://developer.twitter.com/)2. Create/select your app3. Generate a **Bearer Token** → `TWITTER_BEARER_TOKEN`### 2. Find Your Twitter List IDNavigate to your Twitter list in a web browser. The URL will look like:```texthttps://twitter.com/i/lists/1234567890123456789```The number at the end (`1234567890123456789`) is your List ID.### 3. Deploy to Cloud PlatformChoose one of these free deployment options:#### Option A: Render (Recommended - Free Tier Available)1. Fork this repository2. Sign up at [Render](https://render.com)3. Create a new "Web Service" from your GitHub repo4. Set the following in Render:   - **Build Command**: `npm install`   - **Start Command**: `npm start`   - **Environment Variables** (choose your authentication method):**For Private Lists (OAuth 1.0a):**```bashTWITTER_API_KEY=your_api_key_hereTWITTER_API_SECRET=your_api_secret_hereTWITTER_ACCESS_TOKEN=your_access_token_hereTWITTER_ACCESS_SECRET=your_access_secret_hereTWITTER_LIST_ID=your_list_id_hereRSS_TITLE=My Twitter List FeedRSS_DESCRIPTION=RSS feed from my Twitter listRSS_SITE_URL=https://your-app-name.onrender.comRSS_FEED_URL=https://your-app-name.onrender.com/rss```**For Public Lists (Bearer Token):**```bashTWITTER_BEARER_TOKEN=your_bearer_token_hereTWITTER_LIST_ID=your_list_id_hereRSS_TITLE=My Twitter List FeedRSS_DESCRIPTION=RSS feed from my Twitter listRSS_SITE_URL=https://your-app-name.onrender.comRSS_FEED_URL=https://your-app-name.onrender.com/rss```#### Option B: Vercel (Serverless)1. Fork this repository2. Deploy to [Vercel](https://vercel.com)3. Set environment variables in Vercel dashboard4. Uses `vercel.json` configuration (included)#### Option C: Local Development1. Clone the repository:```bashgit clone https://github.com/yourusername/twitter2rss.gitcd twitter2rss```2. Install dependencies:```bashnpm install```3. Copy environment variables:```bashcp .env.example .env```4. Edit `.env` with your credentials and configuration5. Start the development server:```bashnpm run dev```## 📊 API Endpoints### GET /rssReturns the RSS feed in XML format.### GET /statusReturns application status including:- Scheduler information- Database stats- List information- Last update times### POST /refreshManually triggers a tweet fetch and RSS update.### GET /healthHealth check endpoint for monitoring.## ⚙️ Configuration### Environment Variables| Variable | Required | Default | Description ||----------|----------|---------|-------------|| `TWITTER_API_KEY` | For OAuth | - | Twitter API Key (Consumer Key) || `TWITTER_API_SECRET` | For OAuth | - | Twitter API Secret (Consumer Secret) || `TWITTER_ACCESS_TOKEN` | For OAuth | - | Twitter Access Token || `TWITTER_ACCESS_SECRET` | For OAuth | - | Twitter Access Token Secret || `TWITTER_BEARER_TOKEN` | For Bearer | - | Twitter Bearer Token (public lists only) || `TWITTER_LIST_ID` | Yes | - | The ID of the Twitter list to convert || `RSS_TITLE` | No | "Twitter List RSS Feed" | Title of the RSS feed || `RSS_DESCRIPTION` | No | Auto-generated | Description of the RSS feed || `RSS_SITE_URL` | No | - | Base URL of your application || `RSS_FEED_URL` | No | - | Full URL to the RSS feed || `PORT` | No | 3000 | Port for the application || `MIN_UPDATE_INTERVAL` | No | 120 | Minimum update interval in minutes || `MAX_UPDATE_INTERVAL` | No | 1440 | Maximum update interval in minutes || `RSS_CACHE_TTL` | No | 300 | RSS cache TTL in seconds || `MAX_TWEETS_PER_FEED` | No | 50 | Maximum tweets in RSS feed || `RETENTION_DAYS` | No | 7 | Days to keep tweets in database || `DEBUG` | No | false | Enable debug logging |## 🚦 Rate Limiting & Twitter API LimitsThis application implements Twitter's official rate limiting recommendations from their documentation.### Twitter Essential (Free) Tier LimitsThe free tier has very restrictive limits:| Endpoint | Essential (Free) Tier Limit ||----------|----------------------------|| `GET /2/users/me` | 25 requests / 24 hours || `GET /2/lists/:id` | 1 request / 15 minutes || `GET /2/lists/:id/tweets` | 5 requests / 15 minutes |### Rate Limiting ImplementationOur app uses Twitter's official rate limiting strategy:1. **Header-Based Tracking**: Uses Twitter's official headers:   - `x-rate-limit-limit`: Rate limit ceiling for the endpoint   - `x-rate-limit-remaining`: Remaining requests for the 15-minute window   - `x-rate-limit-reset`: Time when the rate limit resets (UTC epoch seconds)2. **Exact Reset Time Waiting**: Waits until the exact reset time instead of guessing3. **Exponential Backoff Fallback**: Uses exponential backoff when reset time is unavailable4. **Endpoint-Specific Limits**: Tracks limits separately for each API endpoint### Expected Behavior- **RSS Updates**: Every 2-24 hours (free tier optimized)- **Rate Limit Errors**: Normal and expected - the app will automatically retry- **First Run**: May take 15+ minutes due to rate limits## 🛠️ Verification & TestingTest your setup with these commands:```bash# Basic credential verification (safe, minimal API calls)npm run verify:basic# Full verification (will hit rate limits on free tier)npm run verify# Test rate limiting implementationnpm run test:rate-limits```## 🐛 Troubleshooting### Common Issues#### 1. 403 "Forbidden" Error with Private Lists**Problem**: Bearer Token cannot access private lists**Solution**: Use OAuth 1.0a authentication (all 4 credentials)- Set `TWITTER_API_KEY`, `TWITTER_API_SECRET`, `TWITTER_ACCESS_TOKEN`, `TWITTER_ACCESS_SECRET`- Bearer Token alone cannot access private lists#### 2. 429 "Rate limit exceeded"**Problem**: Hitting Twitter's free tier rate limits**Solution**: This is normal for the free tier- The app will automatically retry after the reset time- Wait 15+ minutes between manual requests- Consider increasing `MIN_UPDATE_INTERVAL`#### 3. 401 "Unauthorized" Error**Problem**: Invalid credentials or permissions**Solution**: Check your credentials- Verify your API keys are correct- Ensure your Twitter app has the necessary permissions- Try regenerating your tokens#### 4. "List not found" Error**Problem**: Cannot access the specified list**Solution**: Verify your List ID and access- Double-check your `TWITTER_LIST_ID` is correct- Ensure the list exists and you have access to it- For private lists, use OAuth 1.0a authentication### Debug ModeEnable detailed logging:```bashDEBUG=true npm start```This shows:- Rate limit status and timing- API request details- Exact wait times- Header extraction details### MonitoringCheck the `/status` endpoint to monitor:- Last fetch time and next scheduled update- Current update interval and scheduler status- Number of tweets in database- Rate limit information## 🏗️ Architecture```text┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐│   Twitter API   │    │   Application    │    │   RSS Feed      ││                 │◄──►│                  │◄──►│                 ││   List Tweets   │    │  Adaptive Cron   │    │   XML Output    │└─────────────────┘    └──────────────────┘    └─────────────────┘                              │                              ▼                       ┌─────────────────┐                       │   SQLite DB     │                       │                 │                       │ Tweet Storage   │                       └─────────────────┘```## 🚀 Deployment ModesThe application supports two deployment modes:### Server Mode (Render, Fly.io)- **Background Scheduler**: Automatically fetches tweets at adaptive intervals- **Persistent Database**: SQLite database persists between restarts- **Continuous Updates**: RSS feed updates automatically based on Twitter activity- **Best for**: Regular RSS feed consumption, higher traffic### Serverless Mode (Vercel)- **On-Demand Updates**: Fetches fresh tweets only when RSS feed is requested- **Temporary Database**: Uses `/tmp` storage, resets on cold starts- **Fresh Data**: Always serves recent tweets (within cache TTL)- **Best for**: Occasional RSS feed access, lower traffic## 💰 Production Recommendations### For Free Tier Users- Expect RSS updates every 2-24 hours- Perfect for personal use and testing- RSS feed will cache for 5 minutes to reduce API calls### For Production Use- Consider upgrading to Basic ($100/month) for better limits- Basic tier allows: 5 requests/15min for lists (vs 1 for free)- Much better for real-time RSS feeds## 🤝 Contributing1. Fork the repository2. Create a feature branch3. Make your changes4. Test thoroughly5. Submit a pull request## 📄 LicenseMIT License - see LICENSE file for details.## 🆘 SupportIf you encounter any issues:1. Check the troubleshooting section2. Review the `/status` endpoint output3. Check your deployment platform's logs for error details4. Enable debug mode for detailed logging5. Open an issue in the repository---**Your Twitter List RSS feed is ready to use!** 🚀